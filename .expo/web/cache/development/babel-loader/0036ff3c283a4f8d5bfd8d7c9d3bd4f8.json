{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { db, auth } from \"../firebase/config\";\nimport { SearchBar } from 'react-native-elements';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function (_Component) {\n  _inherits(Search, _Component);\n  var _super = _createSuper(Search);\n  function Search() {\n    var _this;\n    _classCallCheck(this, Search);\n    _this = _super.call(this);\n    _this.state = {\n      busqueda: '',\n      usuarios: [],\n      loading: true,\n      result: []\n    };\n    return _this;\n  }\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      db.collection('users').onSnapshot(function (docs) {\n        var usuarios = [];\n        docs.forEach(function (doc) {\n          usuarios.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n        _this2.setState({\n          usuarios: usuarios,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"buscar\",\n    value: function buscar(text) {\n      var result = this.state.usuarios.filter(function (unUsuario) {\n        return unUsuario.data.username.toLowerCase().includes(text.toLowerCase());\n      });\n      this.setState({\n        result: result,\n        busqueda: text\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      console.log(this.state.result);\n      return _jsxs(View, {\n        children: [_jsx(SearchBar, {\n          clearIcon: \"false\",\n          style: styles.input,\n          placeholder: \"Search\",\n          onChangeText: function onChangeText(text) {\n            return _this3.buscar(text);\n          },\n          value: this.state.busqueda\n        }), this.state.loading ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"green\"\n        }) : _jsx(FlatList, {\n          data: this.state.result,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return _jsxs(TouchableOpacity, {\n              style: styles.user,\n              onPress: function onPress() {\n                return _this3.props.navigation.navigate('Profile', {\n                  mail: item.data.owner\n                });\n              },\n              children: [_jsx(Image, {\n                style: styles.profilePhoto,\n                source: {\n                  uri: item.data.foto\n                },\n                resizeMode: \"auto\"\n              }), _jsx(Text, {\n                style: styles.text,\n                children: _this3.state.result == [] ? 'No se encontraron resultados' : item.data.username\n              })]\n            });\n          }\n        })]\n      });\n    }\n  }]);\n  return Search;\n}(Component);\nvar styles = StyleSheet.create({\n  input: {\n    marginTop: 10,\n    alignSelf: 'center',\n    height: 50,\n    width: '60%',\n    backgroundColor: 'black',\n    color: 'white',\n    padding: 5\n  },\n  user: {\n    marginTop: 10,\n    padding: 5,\n    width: '100%',\n    backgroundColor: '#C3C3C3',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  profilePhoto: {\n    marginRight: 10,\n    height: 40,\n    width: 40,\n    borderBottomRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderTopLeftRadius: 50\n  },\n  text: {\n    fontSize: 15\n  }\n});\nexport default Search;","map":{"version":3,"names":["React","Component","db","auth","SearchBar","Search","state","busqueda","usuarios","loading","result","collection","onSnapshot","docs","forEach","doc","push","id","data","setState","text","filter","unUsuario","username","toLowerCase","includes","console","log","styles","input","buscar","item","toString","user","props","navigation","navigate","mail","owner","profilePhoto","uri","foto","StyleSheet","create","marginTop","alignSelf","height","width","backgroundColor","color","padding","flexDirection","alignItems","marginRight","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","fontSize"],"sources":["/Users/martucoletto/My Drive/ProgramaciÃ³n III - Vivone/repocursada/proyfinal-p3/src/screens/Search.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, Image} from 'react-native';\nimport { ActivityIndicator, FlatList, StyleSheet} from 'react-native-web';\nimport { db, auth } from '../firebase/config';\nimport { SearchBar } from 'react-native-elements';\n\n\nclass Search extends Component {\n    constructor(){\n        super()\n        this.state = {\n            busqueda: '',\n            usuarios: [],\n            loading: true,\n            result: []\n        }\n    }\n\n    componentDidMount(){\n        db.collection('users').onSnapshot(\n            docs => {\n                \n                let usuarios = [];\n                docs.forEach(doc => {\n                    usuarios.push({\n                        id: doc.id,\n                        data: doc.data()\n                    })\n                })\n                this.setState({\n                    usuarios: usuarios,\n                    loading: false\n                })\n            }\n        )\n    }\n\n    buscar(text){\n        let result = this.state.usuarios.filter((unUsuario) => {\n            return unUsuario.data.username.toLowerCase().includes(text.toLowerCase())\n        })\n        this.setState({result: result, busqueda: text});\n    }\n    \n    render(){\n        console.log(this.state.result)\n        return(\n            <View>\n                <SearchBar \n                    clearIcon='false'\n                    style={styles.input}\n                    placeholder= 'Search' \n                    onChangeText= {text => this.buscar(text)} \n                    value= {this.state.busqueda}\n                />\n                {this.state.loading ? <ActivityIndicator size='large' color='green' /> : \n                    <FlatList\n                        data={this.state.result}\n                        keyExtractor={item => item.id.toString()}\n                        renderItem={({item}) => \n                        <TouchableOpacity style={styles.user}onPress={()=> this.props.navigation.navigate('Profile', {mail: item.data.owner})}>\n                            <Image style={styles.profilePhoto} source={{uri:item.data.foto}} resizeMode='auto'/>\n                            <Text style={styles.text}>{this.state.result == [] ? 'No se encontraron resultados' : item.data.username}</Text>\n                        </TouchableOpacity>\n                        \n                        } \n                    />}\n            </View>\n        )\n    }\n    \n}\n\nconst styles = StyleSheet.create({\n    input:{\n        marginTop:10,\n        alignSelf:'center',\n        height:50,\n        width:'60%',\n        backgroundColor:'black',\n        color:'white',\n        padding:5  \n    },\n    user:{\n        marginTop:10,\n        padding:5,\n        width:'100%',\n        backgroundColor:'#C3C3C3',\n        flexDirection:'row',\n        alignItems: 'center'\n    },\n    profilePhoto:{\n        marginRight:10,\n        height:40,\n        width:40,\n        borderBottomRightRadius: 50,\n        borderBottomLeftRadius: 50,\n        borderTopRightRadius: 50,\n        borderTopLeftRadius: 50\n    },\n    text:{fontSize:15}\n})\n\nexport default Search"],"mappings":"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"},"metadata":{},"sourceType":"module"}