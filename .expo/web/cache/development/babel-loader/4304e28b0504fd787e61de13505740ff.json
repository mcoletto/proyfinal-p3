{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { db, auth } from \"../firebase/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function (_Component) {\n  _inherits(Search, _Component);\n  var _super = _createSuper(Search);\n  function Search() {\n    var _this;\n    _classCallCheck(this, Search);\n    _this = _super.call(this);\n    _this.state = {\n      busqueda: '',\n      usuarios: [],\n      loading: true,\n      result: []\n    };\n    return _this;\n  }\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      db.collection('users').onSnapshot(function (docs) {\n        var usuarios = [];\n        docs.forEach(function (doc) {\n          usuarios.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n        _this2.setState({\n          usuarios: usuarios,\n          loading: false\n        });\n        console.log(_this2.state);\n      });\n    }\n  }, {\n    key: \"buscar\",\n    value: function buscar() {\n      var _this3 = this;\n      console.log(this.state.busqueda, this.state.usuarios);\n      var result = this.state.usuarios.filter(function (unUsuario) {\n        return unUsuario.data.username.toLowerCase().includes(_this3.state.busqueda);\n      });\n      this.setState({\n        result: result\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      return _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Buscador\"\n        }), _jsx(TextInput, {\n          placeholder: \"Ingrese un nombre de usuario para buscar\",\n          keyboardType: \"default\",\n          onChangeText: function onChangeText(text) {\n            return _this4.setState({\n              busqueda: text\n            });\n          },\n          value: this.state.busqueda,\n          onChange: function onChange() {\n            return _this4.buscar();\n          }\n        }), this.state.loading ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"green\"\n        }) : _jsx(FlatList, {\n          data: this.state.result,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return _this4.props.navigation.navigate('Profile', {\n                  mail: item.data.owner\n                });\n              },\n              children: _jsx(Text, {\n                children: item.data.username == {}\n              })\n            });\n          }\n        })]\n      });\n    }\n  }]);\n  return Search;\n}(Component);\nexport default Search;","map":{"version":3,"names":["React","Component","db","auth","Search","state","busqueda","usuarios","loading","result","collection","onSnapshot","docs","forEach","doc","push","id","data","setState","console","log","filter","unUsuario","username","toLowerCase","includes","text","buscar","item","toString","props","navigation","navigate","mail","owner"],"sources":["/Users/martin/Desktop/final prog 3/proyfinal-p3/src/screens/Search.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { View, Text, TextInput, TouchableOpacity} from 'react-native';\nimport { ActivityIndicator, FlatList } from 'react-native-web';\nimport { db, auth } from '../firebase/config';\n\nclass Search extends Component {\n    constructor(){\n        super()\n        this.state = {\n            busqueda: '',\n            usuarios: [],\n            loading: true,\n            result: []\n        }\n    }\n\n    componentDidMount(){\n        db.collection('users').onSnapshot(\n            docs => {\n                \n                let usuarios = [];\n                docs.forEach(doc => {\n                    usuarios.push({\n                        id: doc.id,\n                        data: doc.data()\n                    })\n                })\n                this.setState({\n                    usuarios: usuarios,\n                    loading: false\n                })\n                console.log(this.state)\n            }\n        )\n    }\n\n    buscar(){\n        console.log(this.state.busqueda, this.state.usuarios);\n        let result = this.state.usuarios.filter((unUsuario) => {\n            return unUsuario.data.username.toLowerCase().includes(this.state.busqueda)\n        })\n        this.setState({result: result});\n    }\n    \n    render(){\n        return(\n            <View>\n                <Text>Buscador</Text>\n                <TextInput\n                        placeholder= 'Ingrese un nombre de usuario para buscar' \n                        keyboardType= 'default' \n                        onChangeText= {text => this.setState({busqueda:text})} \n                        value= {this.state.busqueda}\n                        onChange={()=> this.buscar()}\n                    />\n                {this.state.loading ? <ActivityIndicator size='large' color='green' /> : \n                    <FlatList\n                        data={this.state.result}\n                        keyExtractor={item => item.id.toString()}\n                        renderItem={({item}) => \n                        <TouchableOpacity onPress={()=> this.props.navigation.navigate('Profile', {mail: item.data.owner})}>\n                            <Text>{item.data.username == {}}</Text>\n                        </TouchableOpacity>\n                        \n                        } \n                    />}\n            </View>\n        )\n    }\n    \n}\n\n\nexport default Search"],"mappings":"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"},"metadata":{},"sourceType":"module"}