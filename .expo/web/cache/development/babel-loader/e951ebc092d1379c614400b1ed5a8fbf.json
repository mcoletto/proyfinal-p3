{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { db, auth } from \"../firebase/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function (_Component) {\n  _inherits(Search, _Component);\n  var _super = _createSuper(Search);\n  function Search() {\n    var _this;\n    _classCallCheck(this, Search);\n    _this = _super.call(this);\n    _this.state = {\n      busqueda: '',\n      usuarios: [],\n      loading: true,\n      result: []\n    };\n    return _this;\n  }\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      db.collection('users').onSnapshot(function (docs) {\n        var usuarios = [];\n        docs.forEach(function (doc) {\n          usuarios.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n        _this2.setState({\n          usuarios: usuarios,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"buscar\",\n    value: function buscar(text) {\n      var result = this.state.usuarios.filter(function (unUsuario) {\n        return unUsuario.data.username.toLowerCase().includes(text.toLowerCase());\n      });\n      this.setState({\n        result: result,\n        busqueda: text\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      console.log(this.state.result);\n      return _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Buscador\"\n        }), _jsx(TextInput, {\n          placeholder: \"Ingrese un nombre de usuario para buscar\",\n          keyboardType: \"default\",\n          onChangeText: function onChangeText(text) {\n            return _this3.buscar(text);\n          },\n          value: this.state.busqueda\n        }), this.state.loading ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"green\"\n        }) : _jsx(FlatList, {\n          data: this.state.result,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return _jsxs(TouchableOpacity, {\n              style: styles.user,\n              onPress: function onPress() {\n                return _this3.props.navigation.navigate('Profile', {\n                  mail: item.data.owner\n                });\n              },\n              children: [_jsx(Image, {\n                style: styles.profilePhoto,\n                source: {\n                  uri: item.data.foto\n                },\n                resizeMode: \"auto\"\n              }), _jsx(Text, {\n                children: _this3.state.result == [] ? 'No se encontraron resultados' : item.data.username\n              })]\n            });\n          }\n        })]\n      });\n    }\n  }]);\n  return Search;\n}(Component);\nvar styles = StyleSheet.create({\n  user: {\n    padding: 5,\n    width: '100%',\n    backgroundColor: '#C3C3C3',\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  profilePhoto: {\n    height: 60,\n    width: 60,\n    borderBottomRightRadius: 50,\n    borderBottomLeftRadius: 50,\n    borderTopRightRadius: 50,\n    borderTopLeftRadius: 50\n  }\n});\nexport default Search;","map":{"version":3,"names":["React","Component","db","auth","Search","state","busqueda","usuarios","loading","result","collection","onSnapshot","docs","forEach","doc","push","id","data","setState","text","filter","unUsuario","username","toLowerCase","includes","console","log","buscar","item","toString","styles","user","props","navigation","navigate","mail","owner","profilePhoto","uri","foto","StyleSheet","create","padding","width","backgroundColor","flexDirection","alignItems","height","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius"],"sources":["C:/Users/User/Desktop/UDESA/PROG III/poryFinalConEstilos/proyfinal-p3/src/screens/Search.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, Image} from 'react-native';\r\nimport { ActivityIndicator, FlatList, StyleSheet} from 'react-native-web';\r\nimport { db, auth } from '../firebase/config';\r\n\r\nclass Search extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            busqueda: '',\r\n            usuarios: [],\r\n            loading: true,\r\n            result: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        db.collection('users').onSnapshot(\r\n            docs => {\r\n                \r\n                let usuarios = [];\r\n                docs.forEach(doc => {\r\n                    usuarios.push({\r\n                        id: doc.id,\r\n                        data: doc.data()\r\n                    })\r\n                })\r\n                this.setState({\r\n                    usuarios: usuarios,\r\n                    loading: false\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    buscar(text){\r\n        let result = this.state.usuarios.filter((unUsuario) => {\r\n            return unUsuario.data.username.toLowerCase().includes(text.toLowerCase())\r\n        })\r\n        this.setState({result: result, busqueda: text});\r\n    }\r\n    \r\n    render(){\r\n        console.log(this.state.result)\r\n        return(\r\n            <View>\r\n                <Text>Buscador</Text>\r\n                <TextInput\r\n                        placeholder= 'Ingrese un nombre de usuario para buscar' \r\n                        keyboardType= 'default' \r\n                        onChangeText= {text => this.buscar(text)} \r\n                        value= {this.state.busqueda}\r\n                    />\r\n                {this.state.loading ? <ActivityIndicator size='large' color='green' /> : \r\n                    <FlatList\r\n                        data={this.state.result}\r\n                        keyExtractor={item => item.id.toString()}\r\n                        renderItem={({item}) => \r\n                        <TouchableOpacity style={styles.user}onPress={()=> this.props.navigation.navigate('Profile', {mail: item.data.owner})}>\r\n                            <Image style={styles.profilePhoto} source={{uri:item.data.foto}} resizeMode='auto'/>\r\n                            <Text>{this.state.result == [] ? 'No se encontraron resultados' : item.data.username}</Text>\r\n                        </TouchableOpacity>\r\n                        \r\n                        } \r\n                    />}\r\n            </View>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    user:{\r\n        padding:5,\r\n        width:'100%',\r\n        backgroundColor:'#C3C3C3',\r\n        flexDirection:'row',\r\n        alignItems: 'center'\r\n    },\r\n    profilePhoto:{\r\n        height:60,\r\n        width:60,\r\n        borderBottomRightRadius: 50,\r\n        borderBottomLeftRadius: 50,\r\n        borderTopRightRadius: 50,\r\n        borderTopLeftRadius: 50,\r\n    }\r\n})\r\n\r\nexport default Search"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGzC,SAASC,EAAE,EAAEC,IAAI;AAA6B;AAAA;AAAA,IAExCC,MAAM;EAAA;EAAA;EACR,kBAAa;IAAA;IAAA;IACT;IACA,MAAKC,KAAK,GAAG;MACTC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,IAAI;MACbC,MAAM,EAAE;IACZ,CAAC;IAAA;EACL;EAAC;IAAA;IAAA,OAED,6BAAmB;MAAA;MACfP,EAAE,CAACQ,UAAU,CAAC,OAAO,CAAC,CAACC,UAAU,CAC7B,UAAAC,IAAI,EAAI;QAEJ,IAAIL,QAAQ,GAAG,EAAE;QACjBK,IAAI,CAACC,OAAO,CAAC,UAAAC,GAAG,EAAI;UAChBP,QAAQ,CAACQ,IAAI,CAAC;YACVC,EAAE,EAAEF,GAAG,CAACE,EAAE;YACVC,IAAI,EAAEH,GAAG,CAACG,IAAI;UAClB,CAAC,CAAC;QACN,CAAC,CAAC;QACF,MAAI,CAACC,QAAQ,CAAC;UACVX,QAAQ,EAAEA,QAAQ;UAClBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN,CAAC,CACJ;IACL;EAAC;IAAA;IAAA,OAED,gBAAOW,IAAI,EAAC;MACR,IAAIV,MAAM,GAAG,IAAI,CAACJ,KAAK,CAACE,QAAQ,CAACa,MAAM,CAAC,UAACC,SAAS,EAAK;QACnD,OAAOA,SAAS,CAACJ,IAAI,CAACK,QAAQ,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACL,IAAI,CAACI,WAAW,EAAE,CAAC;MAC7E,CAAC,CAAC;MACF,IAAI,CAACL,QAAQ,CAAC;QAACT,MAAM,EAAEA,MAAM;QAAEH,QAAQ,EAAEa;MAAI,CAAC,CAAC;IACnD;EAAC;IAAA;IAAA,OAED,kBAAQ;MAAA;MACJM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACrB,KAAK,CAACI,MAAM,CAAC;MAC9B,OACI,MAAC,IAAI;QAAA,WACD,KAAC,IAAI;UAAA;QAAA,EAAgB,EACrB,KAAC,SAAS;UACF,WAAW,EAAE,0CAA0C;UACvD,YAAY,EAAE,SAAS;UACvB,YAAY,EAAG,sBAAAU,IAAI;YAAA,OAAI,MAAI,CAACQ,MAAM,CAACR,IAAI,CAAC;UAAA,CAAC;UACzC,KAAK,EAAG,IAAI,CAACd,KAAK,CAACC;QAAS,EAC9B,EACL,IAAI,CAACD,KAAK,CAACG,OAAO,GAAG,KAAC,iBAAiB;UAAC,IAAI,EAAC,OAAO;UAAC,KAAK,EAAC;QAAO,EAAG,GAClE,KAAC,QAAQ;UACL,IAAI,EAAE,IAAI,CAACH,KAAK,CAACI,MAAO;UACxB,YAAY,EAAE,sBAAAmB,IAAI;YAAA,OAAIA,IAAI,CAACZ,EAAE,CAACa,QAAQ,EAAE;UAAA,CAAC;UACzC,UAAU,EAAE;YAAA,IAAED,IAAI,QAAJA,IAAI;YAAA,OAClB,MAAC,gBAAgB;cAAC,KAAK,EAAEE,MAAM,CAACC,IAAK;cAAA,OAAO,EAAE;gBAAA,OAAK,MAAI,CAACC,KAAK,CAACC,UAAU,CAACC,QAAQ,CAAC,SAAS,EAAE;kBAACC,IAAI,EAAEP,IAAI,CAACX,IAAI,CAACmB;gBAAK,CAAC,CAAC;cAAA,CAAC;cAAA,WAClH,KAAC,KAAK;gBAAC,KAAK,EAAEN,MAAM,CAACO,YAAa;gBAAC,MAAM,EAAE;kBAACC,GAAG,EAACV,IAAI,CAACX,IAAI,CAACsB;gBAAI,CAAE;gBAAC,UAAU,EAAC;cAAM,EAAE,EACpF,KAAC,IAAI;gBAAA,UAAE,MAAI,CAAClC,KAAK,CAACI,MAAM,IAAI,EAAE,GAAG,8BAA8B,GAAGmB,IAAI,CAACX,IAAI,CAACK;cAAQ,EAAQ;YAAA,EAC7E;UAAA;QAElB,EACH;MAAA,EACH;IAEf;EAAC;EAAA;AAAA,EA9DgBrB,SAAS;AAkE9B,IAAM6B,MAAM,GAAGU,UAAU,CAACC,MAAM,CAAC;EAC7BV,IAAI,EAAC;IACDW,OAAO,EAAC,CAAC;IACTC,KAAK,EAAC,MAAM;IACZC,eAAe,EAAC,SAAS;IACzBC,aAAa,EAAC,KAAK;IACnBC,UAAU,EAAE;EAChB,CAAC;EACDT,YAAY,EAAC;IACTU,MAAM,EAAC,EAAE;IACTJ,KAAK,EAAC,EAAE;IACRK,uBAAuB,EAAE,EAAE;IAC3BC,sBAAsB,EAAE,EAAE;IAC1BC,oBAAoB,EAAE,EAAE;IACxBC,mBAAmB,EAAE;EACzB;AACJ,CAAC,CAAC;AAEF,eAAe/C,MAAM"},"metadata":{},"sourceType":"module"}