{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { db, auth } from \"../firebase/config\";\nimport UnPost from \"../Components/UnPost\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n  var _super = _createSuper(Home);\n  function Home() {\n    var _this;\n    _classCallCheck(this, Home);\n    _this = _super.call(this);\n    _this.state = {\n      posteos: [],\n      loading: true\n    };\n    return _this;\n  }\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      db.collection('posts').orderBy('createdAt', 'desc').onSnapshot(function (docs) {\n        var posts = [];\n        docs.forEach(function (doc) {\n          posts.push({\n            id: doc.id,\n            data: doc.data()\n          });\n        });\n        _this2.setState({\n          posteos: posts,\n          loading: false\n        });\n        console.log(_this2.state);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return _jsxs(View, {\n        style: styles.scroll,\n        children: [_jsx(Text, {\n          style: styles.titulo,\n          children: \"Post\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this3.props.navigation.navigate('Search');\n          },\n          children: _jsx(Text, {\n            children: \"Buscar\"\n          })\n        }), this.state.loading ? _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"green\"\n        }) : _jsx(FlatList, {\n          style: styles.container,\n          data: this.state.posteos,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return _jsx(UnPost, {\n              post: item,\n              navigation: _this3.props.navigation\n            });\n          }\n        })]\n      });\n    }\n  }]);\n  return Home;\n}(Component);\nvar styles = StyleSheet.create({\n  scroll: {\n    flex: 1\n  },\n  container: {\n    flex: 1\n  },\n  titulo: {\n    fontStyle: 'bold',\n    fontFamily: \"'Helvetica', 'Arial', sans-serif;\",\n    fontSize: 50\n  }\n});\nexport default Home;","map":{"version":3,"names":["React","Component","db","auth","UnPost","Home","state","posteos","loading","collection","orderBy","onSnapshot","docs","posts","forEach","doc","push","id","data","setState","console","log","styles","scroll","titulo","props","navigation","navigate","container","item","toString","StyleSheet","create","flex","fontStyle","fontFamily","fontSize"],"sources":["C:/Users/User/Desktop/UDESA/PROG III/proyeFinaNative/proyfinal-p3/src/screens/Home.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { StyleSheet ,View, Text, TextInput, TouchableOpacity} from 'react-native';\r\nimport { ActivityIndicator, FlatList } from 'react-native-web';\r\nimport { db, auth } from '../firebase/config';\r\nimport UnPost from '../Components/UnPost';\r\n\r\n\r\nclass Home extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            posteos: [],\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        db.collection('posts').orderBy('createdAt', 'desc').onSnapshot(\r\n            docs => {\r\n                \r\n                let posts = [];\r\n                docs.forEach(doc => {\r\n                    posts.push({\r\n                        id: doc.id,\r\n                        data: doc.data()\r\n                    })\r\n                })\r\n                this.setState({\r\n                    posteos: posts,\r\n                    loading: false\r\n                })\r\n                console.log(this.state)\r\n            }\r\n        )\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <View style={styles.scroll}>\r\n                <Text style={styles.titulo}>Post</Text>\r\n                <TouchableOpacity onPress={()=> this.props.navigation.navigate('Search')}>\r\n                    <Text>Buscar</Text>\r\n                </TouchableOpacity>\r\n                {this.state.loading ? <ActivityIndicator size='large' color='green' /> : \r\n                    <FlatList\r\n                        style = {styles.container}\r\n                        data={this.state.posteos}\r\n                        keyExtractor={item => item.id.toString()}\r\n                        renderItem={({item}) => <UnPost post={item} navigation={this.props.navigation}/>}\r\n                    />\r\n                }\r\n            </View>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    scroll: {\r\n      flex: 1,\r\n    },\r\n    container:{\r\n        flex:1\r\n    },\r\n    titulo:{\r\n      fontStyle:'bold',\r\n      fontFamily: \"'Helvetica', 'Arial', sans-serif;\",\r\n      fontSize:50\r\n    }\r\n  });\r\n  \r\n\r\n\r\nexport default Home"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGzC,SAASC,EAAE,EAAEC,IAAI;AACjB,OAAOC,MAAM;AAA6B;AAAA;AAAA,IAGpCC,IAAI;EAAA;EAAA;EACN,gBAAa;IAAA;IAAA;IACT;IACA,MAAKC,KAAK,GAAG;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;IACb,CAAC;IAAA;EACL;EAAC;IAAA;IAAA,OAED,6BAAmB;MAAA;MACfN,EAAE,CAACO,UAAU,CAAC,OAAO,CAAC,CAACC,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAACC,UAAU,CAC1D,UAAAC,IAAI,EAAI;QAEJ,IAAIC,KAAK,GAAG,EAAE;QACdD,IAAI,CAACE,OAAO,CAAC,UAAAC,GAAG,EAAI;UAChBF,KAAK,CAACG,IAAI,CAAC;YACPC,EAAE,EAAEF,GAAG,CAACE,EAAE;YACVC,IAAI,EAAEH,GAAG,CAACG,IAAI;UAClB,CAAC,CAAC;QACN,CAAC,CAAC;QACF,MAAI,CAACC,QAAQ,CAAC;UACVZ,OAAO,EAAEM,KAAK;UACdL,OAAO,EAAE;QACb,CAAC,CAAC;QACFY,OAAO,CAACC,GAAG,CAAC,MAAI,CAACf,KAAK,CAAC;MAC3B,CAAC,CACJ;IACL;EAAC;IAAA;IAAA,OAED,kBAAQ;MAAA;MACJ,OACI,MAAC,IAAI;QAAC,KAAK,EAAEgB,MAAM,CAACC,MAAO;QAAA,WACvB,KAAC,IAAI;UAAC,KAAK,EAAED,MAAM,CAACE,MAAO;UAAA;QAAA,EAAY,EACvC,KAAC,gBAAgB;UAAC,OAAO,EAAE;YAAA,OAAK,MAAI,CAACC,KAAK,CAACC,UAAU,CAACC,QAAQ,CAAC,QAAQ,CAAC;UAAA,CAAC;UAAA,UACrE,KAAC,IAAI;YAAA;UAAA;QAAc,EACJ,EAClB,IAAI,CAACrB,KAAK,CAACE,OAAO,GAAG,KAAC,iBAAiB;UAAC,IAAI,EAAC,OAAO;UAAC,KAAK,EAAC;QAAO,EAAG,GAClE,KAAC,QAAQ;UACL,KAAK,EAAIc,MAAM,CAACM,SAAU;UAC1B,IAAI,EAAE,IAAI,CAACtB,KAAK,CAACC,OAAQ;UACzB,YAAY,EAAE,sBAAAsB,IAAI;YAAA,OAAIA,IAAI,CAACZ,EAAE,CAACa,QAAQ,EAAE;UAAA,CAAC;UACzC,UAAU,EAAE;YAAA,IAAED,IAAI,QAAJA,IAAI;YAAA,OAAM,KAAC,MAAM;cAAC,IAAI,EAAEA,IAAK;cAAC,UAAU,EAAE,MAAI,CAACJ,KAAK,CAACC;YAAW,EAAE;UAAA;QAAC,EACnF;MAAA,EAEH;IAEf;EAAC;EAAA;AAAA,EA9CczB,SAAS;AAkD5B,IAAMqB,MAAM,GAAGS,UAAU,CAACC,MAAM,CAAC;EAC7BT,MAAM,EAAE;IACNU,IAAI,EAAE;EACR,CAAC;EACDL,SAAS,EAAC;IACNK,IAAI,EAAC;EACT,CAAC;EACDT,MAAM,EAAC;IACLU,SAAS,EAAC,MAAM;IAChBC,UAAU,EAAE,mCAAmC;IAC/CC,QAAQ,EAAC;EACX;AACF,CAAC,CAAC;AAIJ,eAAe/B,IAAI"},"metadata":{},"sourceType":"module"}